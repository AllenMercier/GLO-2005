{% extends "base.html" %}

{% block title %}Connexion - Location de Jeux Vidéo{% endblock %}

{% block content %}
<main>
  <div class="login-container">
    <h2>Se connecter</h2>

    <!-- Messages flash -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}
          <div class="flash-message {{ category }}">{{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}

    <!-- Erreur spécifique -->
    {% if error %}
      <div class="error">{{ error }}</div>
    {% endif %}

    <form id="loginForm" method="POST" action="{{ url_for('login') }}" novalidate>
      <div class="form-group">
        <label for="email">Adresse e‑mail</label>
        <input type="email" id="email" name="email" placeholder="exemple@domaine.com" required>
        <div class="error" id="emailError"></div>
      </div>
      <div class="form-group">
        <label for="password">Mot de passe</label>
        <input type="password" id="password" name="password" placeholder="Votre mot de passe" required>
        <div class="error" id="passwordError"></div>
      </div>
      <button type="submit" class="button">Se connecter</button>
    </form>

    <p class="register-link">
      Pas encore de compte ? <a href="{{ url_for('register') }}">Inscription</a>
    </p>
  </div>
</main>

<link rel="stylesheet" href="{{ url_for('static', filename='login.css') }}">
<script src="{{ url_for('static', filename='login.js') }}"></script>
{% endblock %}
